{"version":3,"file":"types.d.cts","names":["AllKeys","T","Primitive","ReadonlyIfObject","Value","Readonly","ReadableAtom","WritableAtom","PreinitializedWritableAtom","Atom","notifyId","atom","StoreExt","readonlyType","AllKeys","ReadableAtom","ReadonlyIfObject","WritableAtom","KeyofBase","Get","T","K","Extract","HasIndexSignature","ValueWithUndefinedForIndexSignatures","Value","Key","WritableStore","MapStore","Store","AnyStore","StoreValue","SomeStore","BaseMapStore","MapStoreKeys","PreinitializedMapStore","map","StoreExt"],"sources":["../../../../node_modules/.pnpm/nanostores@1.0.1/node_modules/nanostores/atom/index.d.ts","../../../../node_modules/.pnpm/nanostores@1.0.1/node_modules/nanostores/map/index.d.ts","../../src/types.ts"],"sourcesContent":["export type AllKeys<T> = T extends any ? keyof T : never\n\ntype Primitive = boolean | number | string\n\nexport type ReadonlyIfObject<Value> = Value extends undefined\n  ? Value\n  : Value extends (...args: any) => any\n  ? Value\n  : Value extends Primitive\n  ? Value\n  : Value extends object\n  ? Readonly<Value>\n  : Value\n\n/**\n * Store object.\n */\nexport interface ReadableAtom<Value = any> {\n  /**\n   * Get store value.\n   *\n   * In contrast with {@link ReadableAtom#value} this value will be always\n   * initialized even if store had no listeners.\n   *\n   * ```js\n   * $store.get()\n   * ```\n   *\n   * @returns Store value.\n   */\n  get(): Value\n\n  /**\n   * Listeners count.\n   */\n  readonly lc: number\n\n  /**\n   * Subscribe to store changes.\n   *\n   * In contrast with {@link Store#subscribe} it do not call listener\n   * immediately.\n   *\n   * @param listener Callback with store value and old value.\n   * @returns Function to remove listener.\n   */\n  listen(\n    listener: (\n      value: ReadonlyIfObject<Value>,\n      oldValue: ReadonlyIfObject<Value>\n    ) => void\n  ): () => void\n\n  /**\n   * Low-level method to notify listeners about changes in the store.\n   *\n   * Can cause unexpected behaviour when combined with frontend frameworks\n   * that perform equality checks for values, such as React.\n   */\n  notify(oldValue?: ReadonlyIfObject<Value>): void\n\n  /**\n   * Unbind all listeners.\n   */\n  off(): void\n\n  /**\n   * Subscribe to store changes and call listener immediately.\n   *\n   * ```\n   * import { $router } from '../store'\n   *\n   * $router.subscribe(page => {\n   *   console.log(page)\n   * })\n   * ```\n   *\n   * @param listener Callback with store value and old value.\n   * @returns Function to remove listener.\n   */\n  subscribe(\n    listener: (\n      value: ReadonlyIfObject<Value>,\n      oldValue?: ReadonlyIfObject<Value>\n    ) => void\n  ): () => void\n\n  /**\n   * Low-level method to read store’s value without calling `onStart`.\n   *\n   * Try to use only {@link ReadableAtom#get}.\n   * Without subscribers, value can be undefined.\n   */\n  readonly value: undefined | Value\n}\n\n/**\n * Store with a way to manually change the value.\n */\nexport interface WritableAtom<Value = any> extends ReadableAtom<Value> {\n  /**\n   * Change store value.\n   *\n   * ```js\n   * $router.set({ path: location.pathname, page: parse(location.pathname) })\n   * ```\n   *\n   * @param newValue New store value.\n   */\n  set(newValue: Value): void\n}\n\nexport interface PreinitializedWritableAtom<Value> extends WritableAtom<Value> {\n  readonly value: Value\n}\n\nexport type Atom<Value = any> = ReadableAtom<Value> | WritableAtom<Value>\n\nexport declare let notifyId: number\n/**\n * Create store with atomic value. It could be a string or an object, which you\n * will replace completely.\n *\n * If you want to change keys in the object inside store, use {@link map}.\n *\n * ```js\n * import { atom, onMount } from 'nanostores'\n *\n * // Initial value\n * export const $router = atom({ path: '', page: 'home' })\n *\n * function parse () {\n *   $router.set({ path: location.pathname, page: parse(location.pathname) })\n * }\n *\n * // Listen for URL changes on first store’s listener.\n * onMount($router, () => {\n *   parse()\n *   window.addEventListener('popstate', parse)\n *   return () => {\n *     window.removeEventListener('popstate', parse)\n *   }\n * })\n * ```\n *\n * @param initialValue Initial value of the store.\n * @returns The store object with methods to subscribe.\n */\nexport function atom<Value, StoreExt = object>(\n  ...args: undefined extends Value ? [] | [Value] : [Value]\n): PreinitializedWritableAtom<Value> & StoreExt\n\n/**\n * Change store type for readonly for export.\n *\n * ```ts\n * import { readonlyType } from 'nanostores'\n *\n * const $storePrivate = atom(0)\n *\n * export const $store = readonlyType($storePrivate)\n * ```\n *\n * @param store The store to be exported.\n * @returns The readonly store.\n */\nexport function readonlyType<Value>(\n  store: ReadableAtom<Value>\n): ReadableAtom<Value>\n","import type {\n  AllKeys,\n  ReadableAtom,\n  ReadonlyIfObject,\n  WritableAtom\n} from '../atom/index.js'\n\ntype KeyofBase = keyof any\n\ntype Get<T, K extends KeyofBase> = Extract<T, { [K1 in K]: any }>[K]\n\nexport type HasIndexSignature<T> = string extends keyof T ? true : false\n\nexport type ValueWithUndefinedForIndexSignatures<\n  Value,\n  Key extends keyof Value\n> = HasIndexSignature<Value> extends true ? undefined | Value[Key] : Value[Key]\n\nexport type WritableStore<Value = any> =\n  | (Value extends object ? MapStore<Value> : never)\n  | WritableAtom<Value>\n\nexport type Store<Value = any> = ReadableAtom<Value> | WritableStore<Value>\n\nexport type AnyStore<Value = any> = {\n  get(): Value\n  readonly value: undefined | Value\n}\n\nexport type StoreValue<SomeStore> = SomeStore extends {\n  get(): infer Value\n}\n  ? Value\n  : any\n\nexport type BaseMapStore<Value = any> = {\n  setKey: (key: any, value: any) => any\n} & WritableAtom<Value>\n\nexport type MapStoreKeys<SomeStore> = SomeStore extends {\n  setKey: (key: infer K, ...args: any[]) => any\n}\n  ? K\n  : AllKeys<StoreValue<SomeStore>>\n\nexport interface MapStore<Value extends object = any>\n  extends WritableAtom<Value> {\n  /**\n   * Subscribe to store changes.\n   *\n   * In contrast with {@link Store#subscribe} it do not call listener\n   * immediately.\n   *\n   * @param listener Callback with store value and old value.\n   * @param changedKey Key that was changed. Will present only if `setKey`\n   *                   has been used to change a store.\n   * @returns Function to remove listener.\n   */\n  listen(\n    listener: (\n      value: ReadonlyIfObject<Value>,\n      oldValue: ReadonlyIfObject<Value>,\n      changedKey: AllKeys<Value>\n    ) => void\n  ): () => void\n\n  /**\n   * Low-level method to notify listeners about changes in the store.\n   *\n   * Can cause unexpected behaviour when combined with frontend frameworks\n   * that perform equality checks for values, such as React.\n   */\n  notify(oldValue?: ReadonlyIfObject<Value>, changedKey?: AllKeys<Value>): void\n\n  /**\n   * Change store value.\n   *\n   * ```js\n   * $settings.set({ theme: 'dark' })\n   * ```\n   *\n   * Operation is atomic, subscribers will be notified once with the new value.\n   * `changedKey` will be undefined\n   *\n   * @param newValue New store value.\n   */\n  set(newValue: Value): void\n\n  /**\n   * Change key in store value.\n   *\n   * ```js\n   * $settings.setKey('theme', 'dark')\n   * ```\n   *\n   * To delete key set `undefined`.\n   *\n   * ```js\n   * $settings.setKey('theme', undefined)\n   * ```\n   *\n   * @param key The key name.\n   * @param value New value.\n   */\n  setKey<Key extends AllKeys<Value>>(\n    key: Key,\n    value: Get<Value, Key> | ValueWithUndefinedForIndexSignatures<Value, Key>\n  ): void\n\n  /**\n   * Subscribe to store changes and call listener immediately.\n   *\n   * ```\n   * import { $router } from '../store'\n   *\n   * $router.subscribe(page => {\n   *   console.log(page)\n   * })\n   * ```\n   *\n   * @param listener Callback with store value and old value.\n   * @param changedKey Key that was changed. Will present only\n   *                   if `setKey` has been used to change a store.\n   * @returns Function to remove listener.\n   */\n  subscribe(\n    listener: (\n      value: ReadonlyIfObject<Value>,\n      oldValue: ReadonlyIfObject<Value> | undefined,\n      changedKey: AllKeys<Value> | undefined\n    ) => void\n  ): () => void\n}\n\nexport interface PreinitializedMapStore<Value extends object = any>\n  extends MapStore<Value> {\n  readonly value: Value\n}\n\n/**\n * Create map store. Map store is a store with key-value object\n * as a store value.\n *\n * @param init Initialize store and return store destructor.\n * @returns The store object with methods to subscribe.\n */\nexport function map<Value extends object, StoreExt extends object = object>(\n  value?: Value\n): PreinitializedMapStore<Value> & StoreExt\n"],"x_google_ignoreList":[0,1],"mappings":"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"}